<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/css/reset.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Sevillana&display=swap" rel="stylesheet" />
    <title>Encriptador Profesional - by Daniel</title>
</head>

<body>
    <header>
        <img src="assets/img/Logo.jpg" alt="Logo Alura" class="logo" />
    </header>

    <main>
        <div class="ingreso">
            <input type="text" id="encr/desc" placeholder="Ingrese su texto aqui" />
        </div>

        <section class="mostrar">
            <textarea id="campoEncDes" cols="40" rows="20"></textarea>
            <div id="obj">
                <img src="assets/img/muñeco/hand_rightmano_derechas.png" alt="manoIzquierda" />
                <p>No se ha encontrado texto a Encriptar/Desencriptar</p>
            </div>
            <div id="copi">
                <input type="button" value="Copiar" onclick="copiar()" class="enviar" />
            </div>
        </section>

        <div class="botones">
            <input type="button" onclick="encriptar()" value="Encriptar" class="enviar" />
            <input type="button" onclick="desencriptar()" value="Desencriptar" class="enviar" />
        </div>
    </main>

    <script>

        /*::::: Variable constante para la encriptacion :::::*/
        const vocales = [["e", "enter"], ["o", "ober"], ["i", "imes"], ["a", "ai"], ["u", "ufat"]];

        /*::::: Funcion para enviar datos a consola. :::::*/
        function consola(x) {
            console.log(x);
        }

        /*::::: Funcion para enviar texto al cuadro de mostrar :::::*/
        function mostrarText(x) {
            document.getElementById("campoEncDes").value = x;
        }

        /*::::: Funcion para encriptar texto :::::*/
        function encriptar() {
            let text = document.getElementById("encr/desc").value;
            esconder(text);
            for (let i = 0; i < vocales.length; i++) {
                if (text.includes(vocales[i][0])) {
                    text = text.replaceAll(vocales[i][0], vocales[i][1]);
                }
            }
            mostrarText(text);
        }

        /*::::: Funcion para desencriptar texto :::::*/
        function desencriptar() {
            let text = document.getElementById("encr/desc").value;
            esconder(text);
            for (let i = 0; i < vocales.length; i++) {
                if (text.includes(vocales[i][1])) {
                    text = text.replaceAll(vocales[i][1], vocales[i][0]);
                }
            }
            mostrarText(text);
        }

        /*::::: Funcion para esconder imagenes :::::*/
        function esconder(text) {
            if (text != "") {
                document.getElementById("obj").style.visibility = "hidden";
                document.getElementById("campoEncDes").style.visibility =
                    "visible";
                document.getElementById("copi").style.display = "block";
            } else {
                document.getElementById("obj").style.visibility = "visible";
                document.getElementById("campoEncDes").style.visibility =
                    "hidden";
                document.getElementById("copi").style.display = "none";
            }
        }

        /*::::: Funcion para copiar texto encriptado :::::*/
        function copiar() {
            document.getElementById("campoEncDes").focus();
            document.execCommand("selectAll");
            document.execCommand("copy");
        }
    </script>

    <footer>
        <p class="copyright">
            ©Copyright - Daniel Arenas Morales 2022 - modificado
        </p>
    </footer>
</body>

</html>