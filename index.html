<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="assets/css/reset.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Sevillana&display=swap" rel="stylesheet" />
    <title>Encriptador Profesional - by Daniel</title>
</head>

<body>
    <header>
        <img src="assets/img/Logo.jpg" alt="Logo Alura" class="logo" />
    </header>

    <main>
        <div class="ingreso">
            <input type="text" id="encr/desc" placeholder="Ingrese su texto aqui" />
        </div>

        <section class="mostrar">
            <textarea id="campoEncDes" cols="40" rows="20"></textarea>
            <div id="obj">
                <img src="assets/img/muñeco/hand_rightmano_derechas.png" alt="manoIzquierda" />
                <p>No se ha encontrado texto a Encriptar/Desencriptar</p>
            </div>
            <div>
                <input type="button" value="Copiar" onclick="copiar()"" class="enviar">
            </div>
        </section>

        <div class="botones">
            <input type="button" onclick="encriptar()" value="Encriptar" class="enviar" />
            <input type="button" onclick="desencriptar()" value="Desencriptar" class="enviar" />
        </div>
    </main>

    <script>
        /*::::: Variable constante para la encriptacion :::::*/
        const vocales = [
            ["a", "ai"],
            ["e", "enter"],
            ["i", "imes"],
            ["o", "ober"],
            ["u", "ufat"],
        ];

        

        /*::::: Funcion para enviar datos a consola. :::::*/
        function consola(x) {
            console.log(x);
        }

        /*::::: Funcion para enviar texto al cuadro de mostrar :::::*/
        function mostrarText(x) {
            return document.getElementById("campoEncDes").value = x;
        }

        /*::::: Funcion para encriptar texto :::::*/
        function encriptar() {
            var text = document.getElementById("encr/desc").value;
            esconder(text);
            var textoEncriptado = text.replace(/e/gi, vocales[1][1]).replace(/i/gi, vocales[2][1]).replace(/a/gi, vocales[0][1])
            .replace(/o/gi, vocales[3][1]).replace(/u/gi, vocales[4][1]);
            mostrarText(textoEncriptado);
        }

        /*::::: Funcion para desencriptar texto :::::*/
        function desencriptar(){
            var text = document.getElementById("encr/desc").value;
            esconder(text);
            var textoDes = text.replace(/enter/gi, vocales[1][0]).replace(/imes/gi, vocales[2][0]).replace(/ai/gi, vocales[0][0])
            .replace(/ober/gi, vocales[3][0]).replace(/ufat/gi, vocales[4][0]);
            consola(textoDes);
            mostrarText(textoDes);
        }

        /*::::: Funcion para esconder imagenes :::::*/
        function esconder(text) {
            if (text != "") {
                document.getElementById("obj").style.visibility = "hidden";
                document.getElementById("campoEncDes").style.visibility = "visible";
            } else {
                document.getElementById("obj").style.visibility = "visible";
                document.getElementById("campoEncDes").style.visibility = "hidden";

            }
        }

        /*::::: Funcion para copiar texto encriptado :::::*/
        function copiar(){
            document.getElementById("campoEncDes").focus();
            document.execCommand("selectAll");
            document.execCommand("copy");
        }
    </script>

    <footer>
        <p class="copyright">
            ©Copyright - Daniel Arenas Morales 2022 - modificado
        </p>
    </footer>
</body>

</html>